<!--#todo - move this to a new component-->

<mat-card class="w-80 shadow-2xl p-6">
  <mat-card-header class="justify-center">
    <mat-card-title>Upload Your Image</mat-card-title>
    <mat-card-subtitle class="py-4"
      >File should be JPEG, png...</mat-card-subtitle
    >
  </mat-card-header>
  <div
    appImageUploader
    (dropFile)="onDropFile($event)"
    class="container flex flex-col justify-center items-center bg-slate-200 border border-dashed border-slate-500 p-6"
  >
    <img
      mat-card-image
      class="d-block w-1/2"
      src="../assets/image.svg"
      alt=""
    />
    <p class="pt-5">Drag & Drop your image here</p>
  </div>

  <mat-card-content>
    <p class="text-center py-4">or</p>
  </mat-card-content>
  <mat-card-actions class="flex justify-center">
    <input
      type="file"
      class="hidden"
      #fileUpload
      (change)="onFileSelected($event)"
    />
    <button mat-raised-button color="primary" (click)="fileUpload.click()">
      Choose a file
    </button>
  </mat-card-actions>
</mat-card>

<mat-card class="" *ngIf="val && val != 100">
  <mat-card-content>
    <h2 class="font-bold">progress</h2>
    <h3>{{ val }}</h3>

    <mat-progress-spinner color="primary" mode="determinate" [value]="val">
    </mat-progress-spinner>
  </mat-card-content>
</mat-card>

<div class="w-40" *ngIf="downloadURL | async; let url">
  <img [src]="url" alt="image from firestore" />
</div>
